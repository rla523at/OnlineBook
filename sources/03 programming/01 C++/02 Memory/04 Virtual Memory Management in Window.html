

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Virtual Memory Management in Window &#8212; MS Study Book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/clipboard.min.js"></script>
    <script src="../../../../_static/copybutton.js"></script>
    <script src="../../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'sources/03 programming/01 C++/02 Memory/04 Virtual Memory Management in Window';</script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Virtual Memory Structure" href="05%20Virtual%20Memory%20Structure.html" />
    <link rel="prev" title="Virtual Memory Size" href="03%20Virtual%20Memory%20Size.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../../cover.html">
  
  
  
  
  
  
    <p class="title logo__title">MS Study Book</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../cover.html">
                    MS Study Book
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">math</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../01%20math/01%20Set/Set.html">Set</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/01%20Set/01%20Power%20Set.html">Power Set</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/01%20Set/02%20Product%20Set.html">Product Set</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/Order.html">Order</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/01%20Partial%20Order.html">Partial Order</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/02%20Partially%20Order%20Set.html">Partially Ordered Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/03%20Maximal%20and%20Minimal%20Element.html">Minimal and Maximal Element</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/04%20Greatest%20and%20Least%20Element.html">Greatest and Least Element</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/05-1%20Upper%20Bound.html">Upper Bound and Lower Bound</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/05-2%20Bounded%20Above%20and%20Below.html">Bounded Above and Below</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/06%20Supremum%20and%20Infimum.html">Sumpremum and Infimum</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/07%20Completeness.html">Completeness</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/08%20Total%20Order.html">Total Order</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/09%20Totally%20Ordered%20Set.html">Totally Ordered Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/10%20Well-order.html">Well-ordered Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/11%20Induction.html">Induction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/04%20Order/12%20Chain.html">Chain</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/01%20Set/05%20Function/Function.html">Function</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/05%20Function/05%20Image.html">Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/05%20Function/06%20Preimage.html">Preimage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/05%20Function/07%20Injective%20Function.html">Injective Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/05%20Function/08%20Surjective%20Function.html">Surjective Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/05%20Function/09%20Bijective%20Function.html">Bijective Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/01%20Set/05%20Function/10%20Inverse%20Function.html">Inverse Function</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/01%20Set/10%20Partition.html">Partition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/01%20Set/11%20Relations.html">Relation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/01%20Set/12%20Equivalence%20Relation.html">Equivalence Relation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/01%20Set/13%20Equivalence%20Class.html">Equivalence Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/01%20Set/14%20Quotient%20Set.html">Quotient Set</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/Abstract%20Algebra.html">Abstract Algebra</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/01%20Binary%20Operation/Binary%20Operation.html">Binary Operation</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/01%20Binary%20Operation/01%20Closed.html">Closed Under Binary Operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/01%20Binary%20Operation/02%20Associative%20Property.html">Associative Property</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/01%20Binary%20Operation/03%20Commutative%20Property.html">Commutative Property</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/02%20Algebraic%20Structure.html">Algebraic Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/03%20Semi-group.html">Semi-group</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/04%20Monoid.html">Monoid</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/Group.html">Group</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/01%20Commutative%20Group.html">Commutative Group</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/02%20Abelian%20Group.html">Abelian Group</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/03%20Group%20Homomorphism.html">Group Homomorphism</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/04%20Kernel.html">Kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/05%20Image.html">Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/11%20Subgroup.html">Subgroup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/12%20Span.html">Span</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/21%20Span%20%26%20Cyclic%20Group.html">Span &amp; Cyclic Group</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/31%20Group%20and%20Relation.html">Group and Relation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/32%20Normal%20Subgroup.html">Normal Subgroup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/51%20Group%20Action.html">Group Action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/52%20Symmetric%20Group.html">Symmetric Group</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/53%20Permutation%20Representation.html">Permutation Representation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/05%20Group/54%20G-Orbit.html">G-Orbit</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/06%20Distributive%20Property.html">Distributive Property</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/07%20Ring/Ring.html">Ring</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/07%20Ring/04%20Commutative%20Ring.html">Commutative Ring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/07%20Ring/05%20Ring%20Homeomorphism.html">Ring Homeomorphism</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/08%20Field/Field.html">Field</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/08%20Field/01%20Ordered%20Field.html">Ordered Field</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/09%20Module/Module.html">Module</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/09%20Module/01%20Left%20Module.html">Left Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/09%20Module/02%20Right%20Module.html">Right Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/09%20Module/03%20Bimodule.html">Bimodule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/09%20Module/04%20R-Module.html">R-Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/02%20Abstract%20Algebra/09%20Module/05%20Module%20Homeomorphism.html">Module Homeomorphism</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../01%20math/03%20Analysis/Analysis.html">Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/03%20Analysis/01%20Integer%20Number.html">Integer Number</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/03%20Analysis/02%20Archimedean%20Property.html">Archimedean Property</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/03%20Analysis/03%20Absolute.html">Absolute</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/03%20Analysis/04%20Rational%20Number.html">Rational Number</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/03%20Analysis/05%20Real%20Number.html">Real Number</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/03%20Analysis/06%20Maximum%20and%20Minimum.html">Maximum and Minimum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/03%20Analysis/07%20Convergence%20of%20Sequence.html">Convergence of Sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/03%20Analysis/08%20Bounded%20Sequence.html">Bounded Sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/03%20Analysis/09%20liminf%20%26%20limsup.html">Limit Inferior &amp; Superior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/03%20Analysis/50%20Inequality.html">Inequality</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/Metric%20Space.html">Metric Space</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/01-1%20Metric.html">Metric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/01-2%20Metric%20Subspace.html">Metric Subspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/02%20Open%20Ball.html">Open ball</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/03%20Open%20Set.html">Open set</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/04%20Closed%20set.html">Closed set</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/05-1%20Neighborhood.html">Neighborhood</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/05-2%20Adherent%20Point.html">Adherent Point</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/05-3%20Accumulation%20Point.html">Accumulation Point</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/05-4%20Isolated%20Point.html">Isolated Point</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/06%20Closure.html">Closure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/07%20Interior.html">Interior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/08%20Boudnary.html">Boundary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/09%20Bounded%20set.html">Bounded Set</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/09-1%20Bounded%20sequence.html">Bounded Sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/10%20Compact%20Set.html">Compact Set</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/11%20Convergence%20of%20Sequence.html">Convergence of Sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/12%20Convergence%20of%20Function.html">Convergence of Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/13%20Continuous%20at%20a%20Point.html">Continuous at a Point</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/04%20Metric%20Space/14%20Continuous%20Function.html">Continuous Function</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../01%20math/05%20Topology/Topology.html">Topology</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/Topologies.html">Topologies</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/01-1%20Topology.html">Topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/01-2%20Topological%20Spaces.html">Topological Space</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/02%20Open%20Set.html">Open Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/03-1%20Closed%20set.html">Closed set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/03-2%20Clopen%20set.html">Clopen set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/04%20Neighborhood.html">Neighborhood</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/05%20Subspace%20Topology.html">Subspace Topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/06%20Subspace.html">Subspace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/07%20Closure.html">Closure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/08%20Interior.html">Interior</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/09%20Exteriror.html">Exteriror</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/10%20Boundary.html">Boundary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/11-1%20Adherent%20Point.html">Adherent Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/11-2%20Limit%20Point.html">Limit Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/12%20Isolated%20Point.html">Isolated Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/01%20Topologies/13%20Dense.html">Dense</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/05%20Topology/02%20Convergence%20and%20Continuity/Convergence%20and%20Continuity.html">Convergence and Continuity</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/02%20Convergence%20and%20Continuity/1%20Convergence.html">Convergence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/02%20Convergence%20and%20Continuity/2%20Continuity.html">Continuity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/02%20Convergence%20and%20Continuity/3%20Homeomorphism.html">Homeomorphism</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/05%20Topology/03%20Hausdorff%20Space.html">Hausdorff Space</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/05%20Topology/04%20Bases/Bases.html">Bases</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/04%20Bases/01%20Basis.html">Basis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/04%20Bases/02%20Neighborhood%20Basis.html">Neighborhood Basis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/04%20Bases/03%20Nested%20Neighborhood%20Basis.html">Nested Neighborhood Basis</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/05%20Topology/05%20Countability%20Properties/Countability%20Properties.html">Countability Properties</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/05%20Countability%20Properties/20%20First%20Countable.html">First Countable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/05%20Countability%20Properties/21%20Eventually%20in.html">Eventually in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/05%20Countability%20Properties/22%20Second%20Countable.html">Second Countable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/05%20Countability%20Properties/23%20Cover.html">Cover</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/05%20Countability%20Properties/24%20Seperable.html">Seperable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/05%20Countability%20Properties/25%20Lindelof%20Space.html">Lindelof Space</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/05%20Topology/06%20Manifolds/Manifolds.html">Manifolds</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/06%20Manifolds/26%20Locally%20Euclidean.html">Locally Euclidean</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/06%20Manifolds/27%20Coordinate.html">Coordinate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/06%20Manifolds/28%20Topological%20Manifold.html">Topological Manifold</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/05%20Topology/07%20Product%20Spaces/Product%20Spaces.html">Product Spaces</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/07%20Product%20Spaces/01%20Product%20Topology.html">Product Bases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/07%20Product%20Spaces/02%20Product%20Space.html">Product Space</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/05%20Topology/07%20Product%20Spaces/03%20Product%20Open%20Set.html">Product Open Set</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../01%20math/06%20Calculus/Calculus.html">Calculus</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/06%20Calculus/01%20Derivatives.html">Derivatives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/06%20Calculus/02%20Directional%20Derivative.html">Directional Derivative</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/06%20Calculus/03%20Total%20Derivative.html">Total Derivative</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/06%20Calculus/11%20Definite%20Integral.html">Definite Integral</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/06%20Calculus/21%20Fundamental%20Theorem%20of%20Calculus.html">Fundamental Theorem of Calculus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/06%20Calculus/40%20Differential.html">Differential</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/06%20Calculus/50%20Leibniz%20Integral%20Rule.html">Libniz Integral Rule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/06%20Calculus/51%20Taylor%27s%20Theorem.html">Taylor’s Theorem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/06%20Calculus/52%20Inverse%20Function%20Theorem.html">Inverse Function Theorem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/06%20Calculus/Divergence%20Theorem.html">Divergence Theorem</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/Linear%20Algebra.html">Linear Algebra</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/01%20Vector%20Space.html">Vector Space</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/02%20Subspace.html">Subspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/03%20Span.html">Span</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/04%20Linearly%20Independet.html">Linearly Independet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/05%20Basis.html">Basis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/06%20Coordinate.html">Coordinate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/10%20Linear%20Map.html">Linear Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/11%20Kernel.html">Kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/12%20Image.html">Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/13%20Vector%20Space%20Isomorphism.html">Vector Space Isomorphism</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/20%20Matrix%20Representation.html">Matrix representation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/21%20Change%20of%20Basis%20and%20Coordinate%20Matrix.html">Change of Basis and Coordinate Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/22%20Eigenvector%20%26%20Eigenvalue%20%26%20EigenSpace.html">Eigenvector &amp; Eigenvalue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/31%20Orthogonal%20Map.html">Orthogonal Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/07%20Linear%20Algebra/41%20Dual%20Space.html">Dual space</a></li>



</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../01%20math/08%20Geometry/Geometry.html">Geometry</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/08%20Geometry/02%20Smooth%20Manifold/Smooth%20Manifold.html">Smooth Manifold</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/08%20Geometry/02%20Smooth%20Manifold/01%20Ambient%20Space.html">Ambient space</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/08%20Geometry/04%20Curve/Curve.html">Curve</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-23"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/08%20Geometry/04%20Curve/01%20Parametric%20Curve.html">Parametric Curve</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/08%20Geometry/04%20Curve/02%20Tangent%20Vector.html">Tangent Vector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/08%20Geometry/04%20Curve/03%20Curvature.html">Curvature</a></li>

</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/08%20Geometry/05%20Conic%20Section.html">Conic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/08%20Geometry/11%20Affine%20space.html">Affine space</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/08%20Geometry/12%20Affine%20Transformation.html">Affine Transformation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/08%20Geometry/13%20Affine%20Combination.html">Affine Combination</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/08%20Geometry/21%20Euclidean%20Space.html">Euclidean Space</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/08%20Geometry/31%20Cylidrical%20Coordinates.html">Cylindrical Coordinates</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/Numerical%20Analysis.html">Numerical Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-24"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/Boundary%20Value%20Problem.html">Boundary Value Problem</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-25"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/01%20Strong%20formulation.html">Strong formulation</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/02%20Weighted%20Residual%20Methods/Weighted%20Residual%20Methods.html">Weighted Residual Methods</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-26"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/02%20Weighted%20Residual%20Methods/01%20Weighted%20Residual%20Formulation.html">Weighted Residual Formulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/02%20Weighted%20Residual%20Methods/02%20Dimensional%20Reduction.html">Dimensional Reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/02%20Weighted%20Residual%20Methods/03%20Reduced%20Function%20Space.html">Reduced Function Space</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/03%20Weak%20Formulation/Weak%20Formulation.html">Weak Formulation</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-27"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/03%20Weak%20Formulation/01%20Strong%20Formulation.html">Strong Formulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/03%20Weak%20Formulation/02%20Weighted%20Residual%20Formulation.html">Weighted Residual Formulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/03%20Weak%20Formulation/03%20Weak%20Formulation.html">Weak Formulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/03%20Weak%20Formulation/04%20Dimensional%20Reduction.html">Dimensional Reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/03%20Weak%20Formulation/05%20Reduced%20Function%20Space.html">Reduced Function Space</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/04%20Model%20Problems/Model%20Problems.html">Model Problems</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-28"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/04%20Model%20Problems/01%20Model%20Problem1.html">Model Problem1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/04%20Model%20Problems/02%20Model%20Problem2.html">Model Problem2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../01%20math/09%20Numerical%20Analysis/01%20Boundary%20Value%20Problem/04%20Model%20Problems/03%20Model%20Problem3.html">Model Problem3</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../01%20math/10%20PDEs/PDEs.html">Partial Differential Equations</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-29"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/10%20PDEs/01%20Linear%20PDE.html">Linear PDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/10%20PDEs/02%20Semilinear%20PDE.html">Semilinear PDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/10%20PDEs/03%20Quasilinear%20PDE.html">Quasilinear PDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/10%20PDEs/04%20Second%20Order%20PDE%20Classification.html">Second Order PDE Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/10%20PDEs/31%20Heat%20Conducting%20in%20Bar.html">Heat Conducting in Bar</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Miscellaneous.html">Miscellaneous</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-30"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Adjoint.html">Adjoint Operator</a></li>



<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Bilinear%20map.html">Vector Space Bilinear Map</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Covector.html">Covector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Determinant.html">명제1</a></li>










<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Diagonalize.html">Diagonalize of a Linear Map</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Dual%20Tensor.html">Dual Tensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Dyadic.html">Dyadic Product</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Eigen%20Space.html">Eigen Space</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Euler%27s%20Phi%20Function.html">Euler’s Phi Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/GCD%20and%20LCM.html">GCD and LCM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Gram-Schmidts%20Process.html">Gram-Schmidts Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Inner%20Product%20Space.html">Inner Product</a></li>







<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Inverse%20Matrix.html">명제</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Modulo%20operator.html">Modulo operator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Normal%20Operator.html">Normal Operator</a></li>


<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Permutation.html">Permutation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Tensor%20Product.html">Tensor Products</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Tensor.html">Tensor</a></li>




<li class="toctree-l2"><a class="reference internal" href="../../../01%20math/99%20Miscellaneous/Trace.html">Trace</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">programming</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../C%2B%2B.html">C++</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-31"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../01%20Build/Build.html">Build</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-32"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../01%20Build/01%20PreProcessing.html">Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../01%20Build/02%20Compile.html">Compile</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../01%20Build/03%20Linking/Linking.html">Linking</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-33"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../01%20Build/03%20Linking/01%20Storage%20Class%20Specifier.html">Storage Class Specifier</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01%20Build/03%20Linking/02%20Name%20Mangling.html">Name Mangling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01%20Build/03%20Linking/03%20Link.html">Link</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01%20Build/03%20Linking/04%20Relocation.html">Relocation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01%20Build/03%20Linking/05%20LinkingMethod.html">Linking Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01%20Build/03%20Linking/06%20Static%20Library.html">Static Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="../01%20Build/03%20Linking/07%20Shared%20Library.html">Shared Library</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="Memory.html">Memory</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-34"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="01%20Virtual%20Memory.html">Virtual Memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="02%20Paging%20system.html">Paging system</a></li>
<li class="toctree-l3"><a class="reference internal" href="03%20Virtual%20Memory%20Size.html">Virtual Memory Size</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Virtual Memory Management in Window</a></li>
<li class="toctree-l3"><a class="reference internal" href="05%20Virtual%20Memory%20Structure.html">Virtual Memory Structure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../03%20Polymorphism.html">Polymorphism</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04%20Value%20Category.html">Value Category</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11%20Class.html">Class</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../20%20Standard%20Library/Standard%20Library.html">STD</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-35"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../20%20Standard%20Library/01%20type-traits.html">type-traits</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../21%20Smart%20Pointer.html">Smart Pointer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../31%20Template.html">Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="../32%20concept.html">concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../33%20Require.html">Require</a></li>
<li class="toctree-l2"><a class="reference internal" href="../34%20hpp.html">hpp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../35%20Perfact%20Forward.html">Perfact Forward + Universal Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../51%20static.html">Static</a></li>
<li class="toctree-l2"><a class="reference internal" href="../52%20Name%20Space.html">Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../53%20One%20Definition%20Rule.html">One Definition Rule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../54%20inline.html">inline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../55%20Enum.html">Enum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../56%20Forward%20Declaration.html">Forward Declaration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../57%20Initialization.html">initialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../58%20Keyword.html">Keyword</a></li>
<li class="toctree-l2"><a class="reference internal" href="../59%20Type%20Casting.html">Type Casting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../99%20Miscelleneous.html">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../1%20OOP.html">Object Oriented Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../10%20git.html">Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CMake.html">Cmake</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Visual%20Studio.html">Visual Studio</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">References</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../99%20References/references.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../../_sources/sources/03 programming/01 C++/02 Memory/04 Virtual Memory Management in Window.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Virtual Memory Management in Window</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#virtual-memory-api">Virtual memory API</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#heap-memory-api">Heap memory API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">프로세스 기본 힙</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">사용자 힙</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#c-c-crt-memory-function-operation">C/C++의 CRT memory function / operation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#malloc-free">malloc &amp; free</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#new-delete">new &amp; delete</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">new [] &amp; delete []</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#new">단일 타입 new의 처리 과정</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">소멸자가 존재하는 클래스 타입의 배열 객체를 new[]를 통해서 할당하는 과정</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#delete">delete [] 호출 후 과정</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">소멸자가 정의되지 않는 타입에 대한 new []할당</a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="virtual-memory-management-in-window">
<h1>Virtual Memory Management in Window<a class="headerlink" href="#virtual-memory-management-in-window" title="Permalink to this heading">#</a></h1>
<p>메모리를 관리하는 것은 전적으로 운영체제의 몫이다. 프로세스가 가상 메모리를 할당 받기 위해서는 해당 운영체제에게 메모리 요청을 해야만한다. Windows에서 제공하는 메모리 관련 Windows API는 아래 그림과 같다.</p>
<figure class="align-default">
<img alt="../../../../_images/04013.png" src="../../../../_images/04013.png" />
</figure>
<p>위 그림을 보면 Heap Memory API는 Virtual Memory API를 통해 구현되어있고 Local/Global Memory API와 CRT Memory fuctions and operations는 Heap Memory API로 구현되어있음을 알수 있다. 결국 메모리 맵 파일 API를 제외하고 모든 API는 Virtual Memory API를 이용하고 있다는 말이다. 메모리 맵 파일을 제외한 모든 메모리 관련 API 또는 오브젝트들은 Virtual Memory API을 이용하여 특정 용도에 맞도록 보다 쉽게 구현된 것들이다. Windows 운영체제가 Virtual Memory API를 기반으로 만들어졌으니 당연한 일일 것이다.</p>
<section id="virtual-memory-api">
<h2>Virtual memory API<a class="headerlink" href="#virtual-memory-api" title="Permalink to this heading">#</a></h2>
<p>User Mode 에서 사용할 수 있는 가장 낮은 수준의 API이다. 따라서 Windows 메모리 관리의 가장 기본이 되는 API다.</p>
<p>Windows는 기본적으로 페이지 단위의 가상 메모리 관리 기법을 사용한다. 이러한 Windows의 관리 기법을 개발자가 동일한 수준에서 수행할 수 있도록 virtual memory API를 지원한다. 따라서 page 단위의 메모리에 할당 유형(commited, reserved, free)과 가상 메모리 접근 등급을 직접 결정할 수 있다.</p>
<p>Virtual memory API를 사용하여 메모리를 사용할 때는 시스템에 따른 페이지 크기로만 가능하므로, 불과 몇 바이트의 작은 크기를 사용할 때는 효과적이지 못하다. 예를들어 32 byte를 할당하기 위해서는 1 page(4KB = 4096byte)를 전부 물리 메모리에 맵핑 시켜야한다. 또한 virtual memory API는 각 page들을 관리하기 위해 <code class="docutils literal notranslate"><span class="pre">페이지</span> <span class="pre">디렉토리(page</span> <span class="pre">directory)</span></code>라는 것이 있고, 이는 4KB의 추가적인 물리 메모리를 소모한다(<a class="reference external" href="https://stackoverflow.com/questions/29945171/difference-between-page-table-and-page-directory">참고1 - stackoverflow</a>, <a class="reference external" href="https://stackoverflow.com/questions/26858196/why-does-page-directory-entries-need-20-bits-to-point-210-page-tables">참고2 - stackoverflow</a>). 따라서 대용량 구조체 또는 객체의 배열을 사용하고자 할 때 사용한다.</p>
<p>Virtual memory API와 관련된 자세한 사항들은 <a class="reference external" href="https://docs.microsoft.com/en-us/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc">VirtualAlloc - MSDN</a>, <a class="reference external" href="https://docs.microsoft.com/en-us/windows/win32/api/memoryapi/nf-memoryapi-virtualfree">VirtualFree - MSDN</a>, <a class="reference external" href="https://securitynewsteam.tistory.com/99">윈도우 메모리 구조 - 보안 세상 블로그</a>를 참고하면 된다.</p>
</section>
<section id="heap-memory-api">
<h2>Heap memory API<a class="headerlink" href="#heap-memory-api" title="Permalink to this heading">#</a></h2>
<p>Virtual memory API가 작은 크기의 메모리 영역을 관리하는데 비효율적이기 때문에 이를 보완한 heap memory API를 제공한다.</p>
<p>Heap memory API는 커널 오브젝트인 heap 오브젝트를 이용한다. Heap 오브젝트는 크기가 작은 메모리 영역을 효율적으로 사용기 위해 미리 내부적으로 virtual memory API를 활용해 가상 메모리를 예약해 두고 프로그램으로부터 할당 요구가 있을 때마다 heap manager가 자동적으로 virtual memory API를 이용해 내부적으로 페이지 단위의 메모리 할당하고 요구에 맞게 메모리를 잘라 메모리 블록을 확보 한다.</p>
<p>Heap memory API을 사용하면 할당 단위나 페이지 경계와 같은 특성을 고려할 필요 없이 수행하고자 하는 작업에 좀 더 집중할 수 있는 장점이 있지만 heap manager에 의해 메모리가 자동적으로 제어됨으로 직접적인 제어권을 잃는다는 단점이 있다.</p>
<p>Heap memory API에서 메모리 할당과 해제 작업은 다중 스레드 환경에서 동기화로 이루어진다. 어느 한 시점에서 heap 메모리를 할당하는 작업은 하나의 스레드에게만 허용된다. 이를 보장하기 위해 HeapAlloc, HeapRealloc, HeapSize, HeapFree 등의 함수들은 내부적으로 HeapLock과 HeapUnlock 함수를 호출하여 순차적인 접근이 일어나도록 한다. 이로인해 여러 쓰레드에서 동시에 이 작업을 요청할 경우 대기에 의해 속도가 느려질 수 있다.</p>
<p>Heap memory API에 관한 자세한 내용은 <a class="reference external" href="https://docs.microsoft.com/en-us/windows/win32/api/heapapi/">heapapi.h header overview - MSDN</a>를 참고하면 된다.</p>
<section id="id1">
<h3>프로세스 기본 힙<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
<p>프로세스가 초기화되면 가장 기본이 되는 heap 오브젝트인 <code class="docutils literal notranslate"><span class="pre">프로세스</span> <span class="pre">기본</span> <span class="pre">힙(process</span> <span class="pre">default</span> <span class="pre">heap)</span></code>을 생성한다. 프로세스 기본 힙은 가상 메모리 공간에 1MB의 영역을 예약한다. (참고로, 기본적으로 할당되는 쓰레드 스택의 크기도 1MB 이다. 윈도우 개발환경에서 VS IDE를 쓴다면 프로젝트 설정에서 Heap reserved size를 조절할 수도 있다.) 프로세스의 기본 힙에 대한 핸들을 얻으려면 GetProcessHeap 함수를 호출하면 된다.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">HANDLE</span><span class="w"> </span><span class="nf">GetProcessHeap</span><span class="p">();</span>
</pre></div>
</div>
<p>다양한 크기의 메모리 할당/해제가 빈번한 프로그램을 생각해보면, 프로세스 기본 힙의 단편화에 대한 걱정을 떨쳐 버릴수가 없다. 예를 들어 List와 Tree를 사용한다고 가정하면 page 내 영역에서 각 자료구조의 노드들이 아주 복잡하게 분산되어 있을 것이다. 한 페이지 내에 다 들어갈 크기의 List를 사용하기 위해 몇 개의 페이지를 참조해야 하는 경우가 발생한다. 물리 메모리 공간이 부족하여 hdd swapping이라도 발생하면 이로 인해 발생하는 성능 하락은 무시하지 못할 것이다. 또한 List나 Tree의 각 node에 할당된 메모리를 해제하려 할 시, 모든 node를 iterate하며 각 node에 대해 해제를 해줘야 한다. 삽입과 삭제시에도 마찬가지다. 혹시나 모를 실수로 memory leak이 발생할 수 있는 가능성이 있다.</p>
</section>
<section id="id2">
<h3>사용자 힙<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h3>
<p>프로세스 기본 힙 이외에 Heap memory API(HeapCreate)를 통해 프로세스에 추가로 생성한 힙을 <code class="docutils literal notranslate"><span class="pre">사용자</span> <span class="pre">힙(private</span> <span class="pre">heap)</span></code>이라고 한다.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">HANDLE</span><span class="w"> </span><span class="nf">HeapCreate</span><span class="p">(</span>
<span class="w">    </span><span class="n">DWORD</span><span class="w"> </span><span class="n">fdwOptions</span><span class="p">,</span><span class="w">         </span><span class="c1">// 힙 생성 옵션</span>
<span class="w">    </span><span class="n">SIZE_T</span><span class="w"> </span><span class="n">dwInitialSize</span><span class="p">,</span><span class="w">     </span><span class="c1">// 힙 초기 크기</span>
<span class="w">    </span><span class="n">SIZE_T</span><span class="w"> </span><span class="n">dwMaximumSize</span><span class="p">);</span><span class="w">    </span><span class="c1">// 힙 최대 크기</span>
</pre></div>
</div>
<p>각 인수와 사용가능한 옵션에 대해서는 <a class="reference external" href="https://docs.microsoft.com/ko-kr/windows/win32/api/heapapi/nf-heapapi-heapcreate">heapapi-heapcreate - MSDN</a>을 참고하면 된다.</p>
<p>사용자 힙의 장점은 아래 글들에 잘 정리되어 있다.<br />
<a class="reference external" href="http://egloos.zum.com/sweeper/v/1791208">Process Default &amp; Private heap - 수까락 블로그</a><br />
<a class="reference external" href="https://jungwoong.tistory.com/47">프로세스의 힙 메모리 - 웅이의 블로그</a><br />
<a class="reference external" href="https://kiaak.tistory.com/entry/Windowsheap%EC%97%90-%EA%B4%80%ED%95%9C-%ED%99%94%EC%A0%9C">heap에 관한 화제 - kiaak 블로그</a></p>
</section>
</section>
<section id="c-c-crt-memory-function-operation">
<h2>C/C++의 CRT memory function / operation<a class="headerlink" href="#c-c-crt-memory-function-operation" title="Permalink to this heading">#</a></h2>
<p>운영체제(윈도우, 리눅스)에 따라서 그리고 각각의 버전에 따라서 메모리를 관리하는 방법은 달라질 수 있다. 그럼에도 C/C++의 malloc/free 함수나 new/delete 연산자를 사용하게 되면 운엥체제의 차이를 뛰어넘어 메모리를 아주 쉽게 할당/해제 할 수 있다. 그 이유는 CRT Library 내부적에서 각각의 운영체제에 맞는 Heap memory API를 호출하기 때문이다.</p>
<p>참고로 Window에서 CRT는 프로세스 기본 힙을 이용해서 heap memory를 할당한다. C:\Program Files (x86)\Windows Kits\10\Source\10.0.19041.0\ucrt\heap의 malloc_base.cpp을 보면 __acrt_heap 핸들을 통해서 heap을 할당받는것을 알 수 있다. 그리고 동일 경로에 heap_handle.cpp을 보면 __acrt_heap이 GetProcessHeap 함수를 통해 할당 받은 프로세스 기본 힙의 핸들임을 알 수 있다.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//malloc_base.cpp</span>
<span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HeapAlloc</span><span class="p">(</span><span class="n">__acrt_heap</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">actual_size</span><span class="p">);</span>

<span class="c1">// heap_handle.cpp</span>
<span class="c1">// Initializes the heap.  This function must be called during CRT startup, and</span>
<span class="c1">// must be called before any user code that might use the heap is executed.</span>
<span class="k">extern</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="kr">__cdecl</span><span class="w"> </span><span class="n">__acrt_initialize_heap</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">__acrt_heap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetProcessHeap</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">__acrt_heap</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="malloc-free">
<h3>malloc &amp; free<a class="headerlink" href="#malloc-free" title="Permalink to this heading">#</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="nf">malloc</span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">free</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">memblock</span><span class="p">);</span>
</pre></div>
</div>
<p>malloc은 size를 인자로 받아서 size 바이트만큼 메모리 블록을 할당한 후 해당 블록의 포인터를 반환하는 함수이다. 만일 할당할 수 있는 충분한 메모리가 존재하지 않을 경우에는 NULL을 반환하게 된다. 할당된 메모리는 프로세스가 종료되거나 직접 해제되기 전까지 계속해서 유효하게 접근될 수 있다. 이런 상세 요구를 만족하기 위하여 CRT Library는 heap memory API를 사용한다.</p>
<p>Heap 영역은 할당과 미할당 영역으로 구분될 수 있다. malloc 호출시 미할당 영역에서 요청된 크기만큼을 반환하면서 반환된 영역은 할당 영역으로 변경된다. malloc 요청이 많아질 경우 할당 영역은 늘어나고, 미할당 영역은 줄어들 것이다. Heap manager가 malloc 요청에 대해서 반환할 미할당 영역을 찾기 어려울 때 내부적으로 virtual memory API를 통해 가상 메모리를 할당하여 heap 자체를 늘린다.</p>
<p>free는 malloc을 통해서 할당된 메모리를 해제하는 함수이다. 인자로는 malloc을 통해서 반환된 포인터를 그대로 넣어주면 된다. free가 호출될 경우 인자 memblock이 가리키는 heap의 할당 영역을 찾아낸 뒤에 미할당 영역으로 변경해놓는다. 만일 인근에 미할당 영역이 접해있을 경우 미할당 영역을 하나로 합치기도 한다.</p>
<p>malloc은 인자로 할당을 원하는 메모리 크기를 받는데 비해서 free는 해제할 메모리 크기를 인자로 받지 않는다. 그럼에도 할당된 메모리를 제대로 해제할 수 있다. 그 이유는 HeapAlloc 함수에서 할당된 내역을 heap manager가 저장해놓고 있다가 HeapFree를 호출할 때 블록의 포인터만 인자로 넘겨줘도 해당 블록의 크기를 확인할 수 있고 깨끗하게 해제할 수 있기 때문이다. malloc과 free도 내부적으로 이 함수들을 호출함으로 같은 맥락으로 잘 작동할 수 있는 것이다.</p>
<p>Heap manager는 메모리 블록을 할당할 때마다 heap 할당 내역을 저장하게 된다. <code class="docutils literal notranslate"><span class="pre">할당</span> <span class="pre">내역</span> <span class="pre">테이블</span></code>에는 할당된 메모리 주소와 크기가 저장되어 있으며 HeapFree를 호출하게 될 경우 heap 관리자는 인자로 넘어온 메모리 주소를 할당 내역에서 검색하여 존재할 경우 할당된 크기만큼 해당 메모리 블록을 해제하여 미할당 영역으로 변경한다.</p>
<p>만일 free의 인자로 할당된 적이 없는 메모리 주소를 넘기게 될 경우 어떤 일이 벌어질까? <a class="reference external" href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/free?view=msvc-170">MSDN</a>에 의하면 다음의 할당 요청에 영향을 줄 수 있다고 되어있다. 이로 인해서 에러가 발생할 수 있다. 그러나 에러가 free 즉시 발생하는 것은 아니기 때문에 디버깅을 하는데 상당한 시간을 허비할 수 있어 주의해야 한다.</p>
<p>메모리 할당 요청 함수로 malloc을 살펴보았지만 할당 요청 함수가 malloc만 있는 것은 아니다. calloc, realloc 등도 있으며 필요에 따라서 적절히 선택하여 사용할 수 있다. 그러나 이와 같은 메모리 할당 함수를 이용하여 할당된 메모리를 해제하는 함수는 오직 free 하나 뿐이다.</p>
<blockquote>
<div><p>Reference<br />
<span id="id3">[<a class="reference internal" href="../../../99%20References/references.html#id14" title="김화수. Fundamental C++ 프로그래밍 원리: 기초부터고급까지. 혜지원, 2015.">김화수, 2015</a>]</span></p>
</div></blockquote>
</section>
<section id="new-delete">
<h3>new &amp; delete<a class="headerlink" href="#new-delete" title="Permalink to this heading">#</a></h3>
<p>new와 delete는 C++에서 새롭게 도입된 메모리 할당 해제 연산자이다. C에서 사용하던 malloc과 free를 대신해서 사용할 수 있다. 그러나 반대로 new와 delete를 malloc과 free로 대신해서 사용할 수는 없다. 그 이유는 new와 delete가 단순하게 메모리 할당과 해제만 하는 것이 아니기 때문이다.</p>
<p>먼저 malloc/free와 new/delete 사용법의 차이를 보자.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span><span class="o">*</span><span class="w"> </span><span class="n">ptr1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>
<span class="o">*</span><span class="n">ptr1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="k">auto</span><span class="o">*</span><span class="w"> </span><span class="n">parr1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="n">parr1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="n">parr1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="k">auto</span><span class="o">*</span><span class="w"> </span><span class="n">ptr2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">;</span>
<span class="o">*</span><span class="n">ptr2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">parr2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="n">parr2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="n">parr2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>

<span class="n">free</span><span class="p">(</span><span class="n">ptr1</span><span class="p">);</span>
<span class="n">free</span><span class="p">(</span><span class="n">parr1</span><span class="p">);</span>

<span class="k">delete</span><span class="w"> </span><span class="n">p2</span><span class="p">;</span>
<span class="k">delete</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">parr2</span><span class="p">;</span>
</pre></div>
</div>
<p>malloc의 경우 인자로 할당할 메모리 크기를 알려주기 위해서 <code class="docutils literal notranslate"><span class="pre">sizeof(type)</span></code>과 같은 방법을 사용해야 된다. 또한 malloc에 의해서 반환된 포인터는 void*로서 메모리 덩어리를 가리키는 주소일 뿐이다. 따라서 의미 있는 포인터로 사용되기 위해서는 반드시 타입 변환을 수행해야 한다. 하지만 new의 경우에는 이러한 과정이 필요 없다. 단일 객체의 메모리 해제시 free와 delete는 별 차이가 없지만 배열 객체의 메모리 해제에서는 delete 뒤에 [] 기호가 쓰이는 차이점이 있다.</p>
<p>new와 delete는 malloc과 free를 단순히 쓰기 편하도록 대체하기 위해서 만든 것은 아니다. 사실 new는 내부적으로 malloc을 호출하고, delete도 역시 내부적으로 free를 호출한다. 결국 CRT Library에서 동적 메모리를 할당 해제하는 함수는 malloc과 free라고 할 수 있다. 즉, C++에서 새롭게 도입된 new와 delete는 메모리 할당과 해제는 malloc과 free에게 맡기고 동적으로 생성된 객체의 생성자와 소멸자를 호출하는 일을 추가적으로 한다. 결국 동적으로 객체를 생성한다면 반드시 new와 delete를 사용해야 하고 이것은 절대로 malloc과 free가 대신할 수 없다.</p>
<p>생성자와 소멸자는 C++에 클래스가 도입되면서 나타났다. 클래스 객체는 기본적으로 생성되면서 생성자가 호출되고, 사라지면서 소멸자가 호출되도록 만들어졌다. 클래스 객체가 전역 객체이거나 함수의 지역 객체일 경우 컴파일러는 어떤 클래스 타입의 객체가 생성되는지 알 수 있다. 따라서 객체 생성 과정에 생성자가 호출되도록 어셈블리를 추가한다. 이제 소멸자를 살펴보자. 지역 객체는 main이 끝나는 시점에, 전역 객체는 프로그램이 끝나는 시점에 각각 소멸자가 호출된다. 컴파일러가 타입을 알고 있기 때문에 가능한 일이다.</p>
<p>그러나 클래스 객체를 malloc을 사용하여 생성할 경우 생성자를 호출할 수가 없다. malloc은 오직 인자로 받은 크기만큼 메모리를 할당하고, 해당 메모리 덩어리를 가리키는 void*만을 반환하는 함수이기 때문이다. 즉, malloc이 호출되는 순간에는 어떤 클래스 타입의 객체가 생성되는지를 알 수가 없다. 알 수 없는 클래스의 생성자를 호출할 수는 없다. free를 이용하여 동적으로 할당된 객체를 해제할 때도 소멸자를 호출할 수가 없다. 왜냐하면 free는 오직 인자로 받은 포인터의 주소를 가지고 Heap manager를 통해 해당 포인터가 가리키는 메모리 블록을 해제하는 일만 하기 때문이다. 결국 기존의 malloc과 free로는 동적 할당으로 생성되는 클래스 객체의 생성자와 소멸자를 호출할 방법이 없었고, 이를 해결하기 위해서 new와 delete를 만들게 된 것이다.</p>
<p>new는 기본적으로 malloc을 통하여 메모리를 할당 받고, 할당 받은 메모리 영역에 대하여 생성자를 호출하는 역할을 수행해야 한다. 따라서 반드시 타입을 알아야만 하기 때문에 new 뒤에는 생성하고자 하는 객체의 타입이 들어가게 된다. 내부적으로는 타입의 크기를 알아내서 malloc을 호출하게 되어 있다. delete 또한 마찬가지로 뒤에 오는 포인터의 타입이 클래스일 경우 해당 클래스의 소멸자를 호출한 후에 free를 호출하여 메모리를 해제하게 된다. 컴파일러는 대상 포인터의 타입만을 체크하여 해당 타입과 일치하는 클래스의 소멸자를 호출한 뒤에 메모리 영역을 해제하는 어셈블리를 작성한다.</p>
<blockquote>
<div><p>Reference<br />
<span id="id4">[<a class="reference internal" href="../../../99%20References/references.html#id14" title="김화수. Fundamental C++ 프로그래밍 원리: 기초부터고급까지. 혜지원, 2015.">김화수, 2015</a>]</span></p>
</div></blockquote>
</section>
<section id="id5">
<h3>new [] &amp; delete []<a class="headerlink" href="#id5" title="Permalink to this heading">#</a></h3>
<p>먼저 아래의 코드를 보자.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">A</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">	</span><span class="n">A</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;constructor</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="o">~</span><span class="n">A</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;destructor</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="p">};</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">A</span><span class="o">*</span><span class="w"> </span><span class="n">Aarr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">Aarr</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>코드를 실행할 경우 생성자가 2번, 소멸자가 2번 호출된것을 확인할 수 있다. 당연하다고 생각할 수 있지만 이 부분은 굉장히 복잡한 과정을 거쳐서 이루어진다. 한번 생각해보자. 컴파일러는 어떻게 생성자와 소멸자를 2번씩 호출해야 된다는 것을 알 수 있을까?</p>
<p>생성자를 두 번 호출하는 것은 사실 쉽다. 코드에 친절하게 []안에 몇번 호출해야 되는지 쓰여있기 때문이다. 하지만 문제는 소멸자를 두 번 호출하는 것이다. delete []에 전달되는 정보는 오직 배열 객체를 가리키는 포인터이다. 포인터는 말 그대로 메모리 덩어리를 가리키는 주소일 뿐이지 이것을 통해서 배열 요소의 개수를 알아낼 수는 없다. 즉, 소멸자를 2번 부르기 위해서 컴파일러는 마법을 부려야만 하는 것이다.</p>
<p>Heap manager는 메모리 할당 내역을 관리하고 있으며 malloc이 호출될 경우 할당 내역에 추가되고, free가 호출되면 할당 내역에서 삭제된다. 할당 내역을 관리하는 자료구조는 당연히 컴파일러마다 다를 것이지만 결국 할당 내역을 통해서 검색, 추가, 삭제하는 과정은 동일하다고 할 수 있다.</p>
<p>배열 타입의 new [], delete []도 내부적으로는 malloc과 free를 호출한다. 즉, heap manager의 할당 내역의 변화를 일으키는 것은 직접적으로 new와 delete가 아니라 내부에서 호출되는 malloc과 free다. 여기서 중요한 점은 단일 객체 타입의 new와 delete는 malloc과 free를 그대로 호출하는데, 배열 타입의 new [], delete []는 malloc과 free를 그대로 호출하지 않는다는 사실이다. 당연히 배열 타입이니까 다른 면이 있겠지만, 가장 큰 차이점이라고 한다면 할당 되고 해제되는 메모리의 구조 자체가 다르다는 점이다.</p>
<blockquote>
<div><p>Reference<br />
<span id="id6">[<a class="reference internal" href="../../../99%20References/references.html#id14" title="김화수. Fundamental C++ 프로그래밍 원리: 기초부터고급까지. 혜지원, 2015.">김화수, 2015</a>]</span></p>
</div></blockquote>
<section id="new">
<h4>단일 타입 new의 처리 과정<a class="headerlink" href="#new" title="Permalink to this heading">#</a></h4>
<p>기본 타입인 int에 대해서 new를 호출할 경우 내부적으로는 malloc이 호출된다. malloc은 heap manager에게 메모리 할당을 요청하며, heap manager는 관리하고 있는 힙에서 적절히 4바이트 만큼의 메모리 블록을 찾은 뒤에 해당 블록의 주소를 반환할 것이다. 동시에 heap manager는 해당 블록의 주소를 할당 내역에 추가한다. malloc을 통해서 할당 받은 메모리 블록의 주소를 new는 그대로 다시 반환한다.</p>
<blockquote>
<div><p>Reference<br />
<span id="id7">[<a class="reference internal" href="../../../99%20References/references.html#id14" title="김화수. Fundamental C++ 프로그래밍 원리: 기초부터고급까지. 혜지원, 2015.">김화수, 2015</a>]</span></p>
</div></blockquote>
</section>
<section id="id8">
<h4>소멸자가 존재하는 클래스 타입의 배열 객체를 new[]를 통해서 할당하는 과정<a class="headerlink" href="#id8" title="Permalink to this heading">#</a></h4>
<p>new []를 호출하면 내부에서 malloc을 호출하는 것은 같지만, malloc으로 넘기는 인자에 변화를 준다. new[]의 경우 필요한 메모리에 추가적인 메모리를 더해 malloc에 요청한다. heap manager는 요청 받은 만큼 힙에서 찾아내서 반환을 해줄 것이다. 그리고 추가적으로 할당한 메모리 부분에 배열의 요소 개수가 저장된다. 이것이 바로 배열 타입 객체의 소멸자를 배열 요소 개수만큼 호출하기 위한 마법의 근원이다.</p>
<blockquote>
<div><p>Reference<br />
<span id="id9">[<a class="reference internal" href="../../../99%20References/references.html#id14" title="김화수. Fundamental C++ 프로그래밍 원리: 기초부터고급까지. 혜지원, 2015.">김화수, 2015</a>]</span></p>
</div></blockquote>
</section>
<section id="delete">
<h4>delete [] 호출 후 과정<a class="headerlink" href="#delete" title="Permalink to this heading">#</a></h4>
<p>delete []의 의미는 해당 객체가 배열 타입으로 할당되었음을 나타내는 것이다. delete []가 호출 되면 컴파일러는 ptr이 가르키는 객체가 배열 타입임으로 메모리 주소에서 추가적으로 할당된 부분을 찾아내고 그를 통해 요소의 개수를 알아낸다. 배열 요소의 개수를 알아내면 그만큼 반복하면서 소멸자를 호출하면 된다. 동시에 메모리를 해제하기 위하여 내부적으로 free를 호출할 때도 ptr가 가르키는 주소에서 추가적으로 할당된 부분을 뺀 값을 인자로 넘기게 되어있다. 당연히 힙 관리자는 할당 내역에서 할당 정보를 찾을 수 있고, 정확하게 해재할 수 있다.</p>
<p>delete []가 아니라 delete를 호출할 경우 컴파일러는 단순히 소멸자는 한번만 호출할 것이며 ptr 주소를 그대로 free에 인자로 넘기게 된다. 그러나 ptr에는 추가적으로 할당된 메모리 주소가 배제되어 있기 때문에 이 값으로 할당 내역 테이블에서 검색할 경우 주소를 찾을 수 없기 때문에 메모리는 제대로 해제되지 않게 된다. 이런 상황을 보통 힙 충돌이 발생했다고 하는데 힙 충돌은 즉시 오류를 발생시킬 수도 있지만, 보통 나중에 더 큰 오류의 원인으로 작용하기 때문에 디버깅을 상당히 어렵게 만든다.</p>
<blockquote>
<div><p>Reference<br />
<span id="id10">[<a class="reference internal" href="../../../99%20References/references.html#id14" title="김화수. Fundamental C++ 프로그래밍 원리: 기초부터고급까지. 혜지원, 2015.">김화수, 2015</a>]</span></p>
</div></blockquote>
</section>
<section id="id11">
<h4>소멸자가 정의되지 않는 타입에 대한 new []할당<a class="headerlink" href="#id11" title="Permalink to this heading">#</a></h4>
<p>할당된 메모리 블록의 포인터를 통해서 블록의 크기를 알기 위해 VC++의 경우 _msize 함수를 제공한다.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">size_t</span><span class="w"> </span><span class="nf">_msize</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">memblock</span><span class="p">);</span>
</pre></div>
</div>
<p>MSDN에 의하면 힙에 할당된 메모리 블록의 크기를 바이트 단위로 반환한다고 설명되어 있다. 이 함수를 통해서 소멸자가 정의되지 않은 타입에 대한 new []할당에 특성을 알아보자.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="p">{};</span>

<span class="k">class</span><span class="w"> </span><span class="nc">B</span>
<span class="p">{</span>
<span class="w">    </span><span class="o">~</span><span class="n">B</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">default</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">class</span><span class="w"> </span><span class="nc">C</span>
<span class="p">{</span>
<span class="w">    </span><span class="o">~</span><span class="n">C</span><span class="p">()</span><span class="w"> </span><span class="p">{};</span>
<span class="p">};</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">A</span><span class="o">*</span><span class="w"> </span><span class="n">Aarr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="w">    </span><span class="n">B</span><span class="o">*</span><span class="w"> </span><span class="n">Barr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="w">    </span><span class="n">C</span><span class="o">*</span><span class="w"> </span><span class="n">Carr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">C</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;size of Aarr : &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">_msize</span><span class="p">(</span><span class="n">Aarr</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;size of Barr : &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">_msize</span><span class="p">(</span><span class="n">Barr</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;size of Carr : &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">_msize</span><span class="p">(</span><span class="n">Carr</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// throw exception!</span>
<span class="p">}</span>
</pre></div>
</div>
<p>위의 코드에서 A와 B 클래스는 default 소멸자가 존재하고 C 클래스는 사용자 정의 소멸자가 존재한다. 이 때, 각각의 클래스에 대해 new []를 호출할 경우 Aarr와 Barr는 소멸자를 부를 필요가 없기 때문에 배열의 요소 개수를 저장할 추가 영역이 불필요하다. 하지만 Carr의 경우 소멸자가 존재하기 때문에 배열의 요소 개수를 저장할 추가영역이 필요하고 이로 인해 new []를 호출하여 반환된 주소(Carr의 값)가 실제 malloc을 호출하여 반환된 주소와는 다르다. 따라서 Carr 주소에 대한 할당 내역 테이블이 존재하지 않게 되고 _msize가 예외를 발생시킨다.</p>
<p>결론적으로 default 소멸자만 있을 경우 소멸자를 호출할 필요가 없기 때문에 배열의 요소 개수를 저장할 추가 영역 할당등의 작업이 불필요하게 된다. 따라서 단일 객체 할당을 위한 new와 크게 다를 것이 없다. 이로인해 delete와 delete []의 구분이 무의미해진다.</p>
<blockquote>
<div><p>Reference<br />
<span id="id12">[<a class="reference internal" href="../../../99%20References/references.html#id14" title="김화수. Fundamental C++ 프로그래밍 원리: 기초부터고급까지. 혜지원, 2015.">김화수, 2015</a>]</span><br />
<a class="reference external" href="https://securitynewsteam.tistory.com/99">윈도우 메모리 구조 - 보안 세상 블로그</a><br />
<a class="reference external" href="https://dnsdudrla97.github.io/window_allocator_/">Window Heap 관리자</a><br />
<a class="reference external" href="https://kiaak.tistory.com/entry/Windowsheap%EC%97%90-%EA%B4%80%ED%95%9C-%ED%99%94%EC%A0%9C">heap에 관한 화제 - kiaak 블로그</a><br />
<a class="reference external" href="http://egloos.zum.com/sweeper/v/1791208">Process Default &amp; Private heap - 수까락 블로그</a><br />
<a class="reference external" href="https://jungwoong.tistory.com/47">프로세스의 힙 메모리 - 웅웅이의 블로그</a><br />
<a class="reference external" href="https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&amp;blogId=tipsware&amp;logNo=220964497321">HeapAlloc과 HeapFree에 대하여 - 김성엽 블로그</a><br />
<a class="reference external" href="https://docs.microsoft.com/en-us/previous-versions/ms810603(v=msdn.10)?redirectedfrom=MSDN">Managing heap memory - MSDN</a><br />
<a class="reference external" href="https://jungwoong.tistory.com/44?category=1067195">윈도우 메모리 구조 - 웅웅이의 블로그</a></p>
</div></blockquote>
</section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./sources\03 programming\01 C++\02 Memory"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="03%20Virtual%20Memory%20Size.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Virtual Memory Size</p>
      </div>
    </a>
    <a class="right-next"
       href="05%20Virtual%20Memory%20Structure.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Virtual Memory Structure</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#virtual-memory-api">Virtual memory API</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#heap-memory-api">Heap memory API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">프로세스 기본 힙</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">사용자 힙</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#c-c-crt-memory-function-operation">C/C++의 CRT memory function / operation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#malloc-free">malloc &amp; free</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#new-delete">new &amp; delete</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">new [] &amp; delete []</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#new">단일 타입 new의 처리 과정</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">소멸자가 존재하는 클래스 타입의 배열 객체를 new[]를 통해서 할당하는 과정</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#delete">delete [] 호출 후 과정</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">소멸자가 정의되지 않는 타입에 대한 new []할당</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By MS
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>